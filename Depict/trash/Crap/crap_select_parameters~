function crap_select_parameters(varargin)

global st
global defaults
global ciao

spm_figure('GetWin','Interactive');

sinit=strcat('Initial volume (1-',num2str(nvols),')');
send=strcat('Final volume (1-',num2str(nvols),')');

%f = figure('Visible','off','name','Select options','Position',[360,500,450,285]);

%list=num2str(1:200)
%list=cellstr(list)

hvol_begin = uicontrol('Style', 'popup','String',list,'Position', [100 220 120 20]); 
uicontrol('Style', 'slider','String','initial volume','Min',1,'Max',210,'Value',1,'Position', [100 220 120 20]); 

txt1 = uicontrol('Style','text','Position',[50 235 200 20],'String',sinit);
hvol_begin=uicontrol('Style', 'edit','String','13','Position', [100 220 30 20]);

txt2= uicontrol('Style','text','Position',[50 165 200 20],'String',send);
hvol_end=uicontrol('Style', 'edit','String','24','Position', [100 150 30 20]);

hinteractive = uicontrol('Style','checkbox','String','Interactive','Position',[315,220,120,25],'Value',0);
hdecimate = uicontrol('Style','checkbox','String','Decimate','Position',[315,170,90,25],'Value',0);
hborder = uicontrol('Style','checkbox','String','Border Filter','Position',[315,120,120,25],'Value',1);


okbutton = uicontrol('Position',[315,50,70,25],'String','Ok','Callback','uiresume(gcbf)');
%uicontrol('style','pushbutton','units','pixels','position',[315,140,70,25],'string','OK','callback',@p_call);

uiwait(gcf);

interactive=get(hinteractive,'Value');
decimate=get(hdecimate,'Value');
border_filter=get(hborder,'Value');
vol_begin=get(hvol_begin,'String');
vol_begin=str2num(vol_begin);
vol_end=get(hvol_end,'String');
vol_end=str2num(vol_end);

